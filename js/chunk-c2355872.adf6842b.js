(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2355872"],{"0740":function(e,r,t){},8927:function(e,r,t){},cb7f:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("Layout",{staticClass:"user-layout-wrapper"},[s("div",{staticClass:"user-layout-container"},[s("div",{staticClass:"top"},[s("div",{staticClass:"container"},[s("div",{staticClass:"registerheader"},[s("img",{staticClass:"logo",attrs:{src:t("d399"),alt:"logo"}}),s("h4",[e._v("欢迎注册")])])])]),s("div",{staticClass:"center"},[s("div",{staticClass:"registerbox"},[s("h2",[e._v("用户注册")]),s("UserRegisterForm",{on:{"on-success-valid":e.handleSubmit}},[s("div",{staticClass:"textcenter py-3",attrs:{slot:"footer"},slot:"footer"},[s("router-link",{attrs:{to:"/login"}},[e._v("使用已有账号登录")])],1)])],1)]),s("div",{staticClass:"bottom"},[s("sh-footer")],1)])])},i=[],o=t("efe2"),n=t("5c51"),u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Form",{ref:"userRegisterForm",staticClass:"userRegisterForm",attrs:{model:e.userRegisterForm,rules:e.userRegisterRules,"label-width":90,"label-colon":""},nativeOn:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleSubmit(r)}}},[t("FormItem",{attrs:{label:"姓名",prop:"userRealName"}},[t("Input",{directives:[{name:"input-filter",rawName:"v-input-filter"}],attrs:{size:e.size,placeholder:"请输入姓名"},model:{value:e.userRegisterForm.userRealName,callback:function(r){e.$set(e.userRegisterForm,"userRealName","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userRealName"}})],1),t("FormItem",{attrs:{label:"学号",prop:"userStudentNumber"}},[t("InputNumber",{staticClass:"w-100",attrs:{max:99999999999,min:0,size:e.size,placeholder:"请输入学号"},model:{value:e.userRegisterForm.userStudentNumber,callback:function(r){e.$set(e.userRegisterForm,"userStudentNumber","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userStudentNumber"}})],1),t("FormItem",{attrs:{label:"班级",prop:"userStudentClass"}},[t("Select",{attrs:{size:e.size,placeholder:"请选择班级"},model:{value:e.userRegisterForm.userStudentClass,callback:function(r){e.$set(e.userRegisterForm,"userStudentClass","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userStudentClass"}},[t("Option",{attrs:{value:"1"}},[e._v("1")]),t("Option",{attrs:{value:"2"}},[e._v("2")])],1)],1),t("FormItem",{attrs:{label:"手机号",prop:"userTelphone"}},[t("InputNumber",{staticClass:"w-100",attrs:{max:19999999999,min:0,size:e.size,placeholder:"请输入手机号"},model:{value:e.userRegisterForm.userTelphone,callback:function(r){e.$set(e.userRegisterForm,"userTelphone","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userTelphone"}})],1),t("FormItem",{attrs:{label:"密码",prop:"userPassword"}},[t("Input",{directives:[{name:"input-filter",rawName:"v-input-filter:trim",arg:"trim"}],attrs:{type:"password",size:e.size,placeholder:"请输入新密码",autocomplete:"new-password"},model:{value:e.userRegisterForm.userPassword,callback:function(r){e.$set(e.userRegisterForm,"userPassword","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userPassword"}})],1),t("FormItem",{attrs:{label:"确认密码",prop:"userPasswordConfirm"}},[t("Input",{directives:[{name:"input-filter",rawName:"v-input-filter:trim",arg:"trim"}],attrs:{type:"password",size:e.size,placeholder:"请再次输入密码",autocomplete:"new-password"},model:{value:e.userRegisterForm.userPasswordConfirm,callback:function(r){e.$set(e.userRegisterForm,"userPasswordConfirm","string"===typeof r?r.trim():r)},expression:"userRegisterForm.userPasswordConfirm"}})],1),t("FormItem",[t("Button",{attrs:{type:"primary",size:e.size,long:""},on:{click:e.handleSubmit}},[e._v("立即注册")]),e._t("footer")],2),e._t("default")],2)],1)},a=[],l=(t("8445"),t("0f1b"),t("0740"),{name:"user-register-form",props:{size:{type:String,default:"default"},formfields:{type:Object,default:function(){}}},components:{},data:function(){return{userRegisterForm:{userRealName:null,userStudentNumber:null,userStudentClass:null,userTelphone:null,userPassword:null,userPasswordConfirm:null}}},computed:{userRegisterRules:function(){return{userRealName:[{required:!0,type:"string",message:"请输入姓名",trigger:"blur"},{validator:this.isuserRealname,trigger:"blur"}],userStudentNumber:[{required:!0,type:"number",message:"请输入学号",trigger:"blur"}],userStudentClass:[{required:!0,type:"string",message:"请选择班级",trigger:"change"}],userTelphone:[{required:!0,type:"number",message:"请输入手机号",trigger:"blur"},{validator:this.ismobile,trigger:"blur"}],userPassword:[{required:!0,type:"string",message:"请输入密码",trigger:"blur"},{validator:this.ispassword,trigger:"blur"}],userPasswordConfirm:[{required:!0,type:"string",message:"请再次输入密码",trigger:"blur"},{validator:this.ispassword,trigger:"blur"}]}}},mounted:function(){this.readEditFields()},methods:{readEditFields:function(){var e=this;if(void 0==this.formfields)return!1;Object.keys(this.userRegisterForm).forEach((function(r){e.formfields[r]&&(e.userRegisterForm[r]=e.formfields[r])}))},handleSubmit:function(){var e=this;return e.$refs.userRegisterForm.validate((function(r){r?e.$emit("on-success-valid",e.userRegisterForm):e.$emit("on-fail-valid")})),!1},handleCancel:function(){this.$emit("on-cancel"),this.resetForm()},resetForm:function(){this.$refs.userRegisterForm.resetFields()}}}),m=l,c=t("5d22"),d=Object(c["a"])(m,u,a,!1,null,null,null),p=d.exports,g=t("7736"),f={name:"register",data:function(){return{loading:!1,second:3,timer:null}},components:{UserRegisterForm:p,ShFooter:n["a"]},mounted:function(){},methods:Object(o["a"])(Object(o["a"])({},Object(g["b"])(["handleRegister"])),{},{handleSubmit:function(e){var r=this;r.$Spin.show(),r.handleRegister(e).then((function(e){r.$Spin.hide(),r.handleSuccessNotice()}))},handleSuccessNotice:function(){var e=this;e.$Notice.success({title:"注册成功！",render:function(r){return r("span",[e.second+"s 后将跳转到登陆页 ",r("a",{on:{click:function(){e.toGoLogin()}}},"立即跳转")])},onClose:function(){e.toGoLogin()}}),e.handleCountDown()},handleCountDown:function(){var e=this;this.timer=setInterval((function(){0===e.second?e.toGoLogin():e.second--}),1e3)},toGoLogin:function(){this.$Notice.destroy(),this.$router.push({name:"login"})}}),beforeDestroy:function(){clearInterval(this.timer)}},h=f,b=(t("d267"),Object(c["a"])(h,s,i,!1,null,"48a28466",null));r["default"]=b.exports},d267:function(e,r,t){"use strict";t("8927")}}]);