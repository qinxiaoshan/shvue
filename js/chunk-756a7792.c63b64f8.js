(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-756a7792"],{c5856:function(t,e,a){"use strict";a("c8e0")},c8e0:function(t,e,a){},f351:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sh-content"},[a("div",{staticClass:"container"},[a("ShHeader",{attrs:{type:"border",title:"课程管理",ghost:""}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("ShHeader",{attrs:{border:""},on:{back:t.routerback}},[a("div",{staticClass:"primary",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.routeQuery.courseTitle))])]),a("div",{staticClass:"sh-content-bg1"},[a("CourseApprovalList")],1)],1)])],1)])},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"courseStudentinfo"},[a("ul",{staticClass:"courseStudent_apply_list"},[a("li",[a("label",[t._v("待审批")]),a("div",{staticClass:"text"},[a("b",[t._v(t._s(t.dataApproval.pending))]),t._v("人")])]),a("li",[a("label",[t._v("已同意")]),a("div",{staticClass:"text"},[a("b",[t._v(t._s(t.dataApproval.agreed))]),t._v("人")])]),a("li",[a("label",[t._v("已拒绝")]),a("div",{staticClass:"text"},[a("b",[t._v(t._s(t.dataApproval.refused))]),t._v("人")])])])]),a("ShHeader",{attrs:{"sub-title":"学员审批",border:"",ghost:"",loading:t.dataloading}},[a("template",{slot:"extra"},[a("Form",{attrs:{inline:""}},[a("FormItem",{staticClass:"mb-0"},[a("RadioGroup",{attrs:{type:"button","button-style":"solid"},model:{value:t.approvalSelect,callback:function(e){t.approvalSelect=e},expression:"approvalSelect"}},[a("Radio",{attrs:{label:"待审批"}}),a("Radio",{attrs:{label:"已同意"}}),a("Radio",{attrs:{label:"已拒绝"}})],1)],1),a("FormItem",{staticClass:"mb-0 mr-0"},["待审批"==t.approvalSelect?[a("Button",{attrs:{type:"warning"},on:{click:t.handleApprovalBatchAgree}},[t._v("批量同意")]),a("Button",{attrs:{type:"primary"},on:{click:t.handleApprovalBatchRefuse}},[t._v("批量拒绝")])]:"待审批"==t.approvalSelect?[a("Button",{attrs:{type:"primary"},on:{click:t.handleApprovalBatchRemove}},[t._v("批量移出")])]:[a("Button",{attrs:{type:"warning"},on:{click:t.handleApprovalBatchAgree}},[t._v("批量加入")]),a("Button",{attrs:{type:"primary"},on:{click:t.handleApprovalBatchDelete}},[t._v("批量删除")])]],2)],1)],1)],2),a("ShTable",{attrs:{ghost:"",dataSourse:t.dataSourse,columns:t.columns,loading:t.dataloading},on:{"on-selection-change":t.handleTableSelection}})],1)},r=[],s=a("6abc"),i=(a("24a8"),a("bf2f"),a("7736")),p={name:"class-approval-list",props:{status:{type:Number,default:null}},components:{},data:function(){return{approvalSelect:"待审批",dataloading:!1,dataSourse:[],dataApproval:{},tableSelectRows:[]}},computed:{columns:function(){var t=this;return[{type:"selection",width:60,align:"center"},{title:"姓名",key:"stuName",width:170},{title:"学号",key:"stuNumber",minWidth:120},{title:"班级",key:"stuClass",minWidth:240},{title:"申请时间",key:"stuApprovalDate",minWidth:150},{title:"操作",key:"handle",width:180,render:function(e,a){var o="";return o="待审批"==t.approvalSelect?e("div",[e("Button",{props:{type:"primary",size:"small",ghost:!0},on:{click:function(){t.handleApprovalAgree(a.row,a)}}},"同意"),e("Button",{props:{type:"default",size:"small"},on:{click:function(){t.handleApprovalRefuse(a.row,a)}}},"拒绝")]):"已同意"==t.approvalSelect?e("div",[e("Button",{props:{type:"primary",size:"small",ghost:!0},on:{click:function(){t.handleApprovalRemove(a.row,a)}}},"移出")]):e("div",[e("Button",{props:{type:"primary",size:"small",ghost:!0},on:{click:function(){t.handleApprovalAgree(a.row,a)}}},"重新加入"),e("Button",{props:{type:"default",size:"small"},on:{click:function(){t.handleApprovalDelete(a.row,a)}}},"删除")]),o}}]}},created:function(){this.getTableData()},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["getStoreCourseManagementApprovalList","setStoreCourseManagementApprovalAgree","setStoreCourseManagementApprovalRefuse","setStoreCourseManagementApprovalRemove","setStoreCourseManagementApprovalDelete"])),{},{getTableData:function(){var t=this;t.tableSelectRows=[],t.dataSourse=[],t.dataloading=!0,t.getStoreCourseManagementApprovalList({}).then((function(e){t.dataloading=!1,t.dataSourse=e.dataList,t.dataApproval=e.dataApproval}))},handleApprovalAgree:function(t){var e=this;e.dataloading=!0,e.setStoreCourseManagementApprovalAgree({}).then((function(t){e.dataloading=!1,e.msginfo(t.msg)}))},handleApprovalRefuse:function(t){var e=this;e.dataloading=!0,e.setStoreCourseManagementApprovalRefuse({}).then((function(t){e.dataloading=!1,e.msginfo(t.msg)}))},handleApprovalRemove:function(t){var e=this;e.dataloading=!0,e.setStoreCourseManagementApprovalRemove({}).then((function(t){e.dataloading=!1,e.msginfo(t.msg)}))},handleApprovalDelete:function(t){var e=this;e.$Modal.confirm({title:"您确定要删除学员吗？",content:"该操作将无法撤回",onOk:function(){e.dataloading=!0,e.setStoreCourseManagementApprovalDelete({}).then((function(a){e.dataloading=!1,e.dataSourse.splice(t.index,1),e.msginfo(a.msg)}))},onCancel:function(){}})},handleApprovalBatchAgree:function(){var t=this;0!=t.tableSelectRows.length?(t.dataloading=!0,t.setStoreCourseManagementApprovalAgree({}).then((function(e){t.dataloading=!1,t.msginfo(e.msg)}))):t.msgwarning("请先选择学员")},handleApprovalBatchRefuse:function(){var t=this;0!=t.tableSelectRows.length?(t.dataloading=!0,t.setStoreCourseManagementApprovalRefuse({}).then((function(e){t.dataloading=!1,t.msginfo(e.msg)}))):t.msgwarning("请先选择学员")},handleApprovalBatchRemove:function(){var t=this;0!=t.tableSelectRows.length?(t.dataloading=!0,t.setStoreCourseManagementApprovalRemove({}).then((function(e){t.dataloading=!1,t.msginfo(e.msg)}))):t.msgwarning("请先选择学员")},handleApprovalBatchDelete:function(){var t=this;0!=t.tableSelectRows.length?(t.dataloading=!0,t.setStoreCourseManagementApprovalDelete({}).then((function(e){t.dataloading=!1,t.msginfo(e.msg)}))):t.msgwarning("请先选择学员")},handleTableSelection:function(t){this.tableSelectRows=t}}),watch:{approvalSelect:function(t,e){this.getTableData()}}},c=p,d=(a("c5856"),a("5d22")),u=Object(d["a"])(c,l,r,!1,null,"116a527e",null),v=u.exports,g={name:"t-course-approval",components:{CourseApprovalList:v},data:function(){return{}},computed:{},mounted:function(){},methods:{}},m=g,h=Object(d["a"])(m,o,n,!1,null,"394a1c4b",null);e["default"]=h.exports}}]);